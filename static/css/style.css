/* Custom styles for the AI Chatbot */

/* Base styles */
html, body {
    overscroll-behavior: none; /* Prevents pull-to-refresh on mobile */
    touch-action: manipulation; /* Improves touch response */
    -webkit-tap-highlight-color: transparent; /* Removes tap highlight on mobile */
}

/* Chat container styling */
#chat-messages {
    -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
    scrollbar-width: thin; /* Thin scrollbar for Firefox */
    scrollbar-color: rgba(13, 148, 136, 0.2) transparent; /* Teal scrollbar for Firefox */
}

/* Custom scrollbar for Webkit browsers */
#chat-messages::-webkit-scrollbar {
    width: 4px;
}

#chat-messages::-webkit-scrollbar-track {
    background: transparent;
}

#chat-messages::-webkit-scrollbar-thumb {
    background-color: rgba(13, 148, 136, 0.2);
    border-radius: 4px;
}

/* Message animations */
.bg-teal-50, .bg-gray-50 {
    animation: fadeIn 0.3s ease-in-out;
    word-break: break-word; /* Ensures text wraps properly on mobile */
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Loading animation */
.loading-message p {
    display: flex;
    align-items: center;
}

.loading-message p::after {
    content: '';
    width: 10px;
    height: 10px;
    margin-left: 8px;
    border-radius: 50%;
    border: 2px solid #ccc;
    border-top-color: #0d9488; /* Teal color for loading spinner */
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Mobile-specific styles */
@media (max-width: 640px) {
    /* Adjust font size for better readability on small screens */
    body {
        font-size: 14px;
    }
    
    /* Prevent iOS zoom on input focus */
    input[type="text"] {
        font-size: 16px;
    }
    
    /* Ensure the chat container takes up available space */
    #chat-messages {
        height: calc(100% - 60px); /* Adjust based on your header/footer height */
    }
    
    /* Ensure the input doesn't get hidden by virtual keyboard */
    .sticky {
        position: sticky;
        bottom: 0;
        z-index: 10;
    }
}

/* Fix for iOS height issues */
@supports (-webkit-touch-callout: none) {
    .h-\[90vh\] {
        height: -webkit-fill-available;
    }
}
